{"version":3,"names":["InstrumentationBase","VERSION","AppState","LIBRARY_NAME","DEFAULT_LOOP_SAMPLE_INTERVAL_MS","DEFAULT_STALL_THRESHOLD_MS","SlowEventLoopInstrumentation","_lastLoopTimestamp","_intervalRef","_appStateRef","constructor","enabled","loopSampleIntervalMs","stallThresholdMs","applyCustomAttributesOnSpan","config","_loopSampleIntervalMs","_stallThresholdMs","_isAppSuspended","enable","_isEnabled","_diag","debug","isAvailable","addEventListener","_suspendResumeHandler","bind","Date","now","setInterval","_checkEventLoop","disable","clearInterval","remove","init","nowTimestamp","intervalSinceLastCheck","_emitSlowEventLoopSpan","delayMs","timestampMs","slowEventLoopSpan","tracer","startSpan","startTime","setAttribute","end","appState"],"sourceRoot":"../../src","sources":["SlowEventLoopInstrumentation.ts"],"mappings":"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","ignoreList":[]}
